<!doctype html>
<html>
  <head>
    <title>Nico57c Javascript::ThreeJS::tests/hud/default0</title>
    <meta charset="utf-8">
    <style>
    body, html {
        margin:0px;
        padding:0px;
        background:white !important;
    }
    #container {
        margin:0px;
        padding:0px;
        font-family: sans-serif;
        background:white !important;
    }
    </style>
  </head>
<body>
  
  <div id="container"></div>
  <script src="../../js/three/three.min.js" type="text/javascript"></script>
  
  <script src="../../js/nInit.js" type="text/javascript"></script>
  
  <script src="../../js/three/controls/OrbitControls.js" type="text/javascript"></script>

<script src="../../js/nObserver.js" type="text/javascript"></script>
  <script src="../../js/mThree_Huds.js" type="text/javascript"></script>
  <script src="../../js/huds/default0.js" type="text/javascript"></script>
  <script src="../../js/nRender.js" type="text/javascript"></script>
  <script src="../../js/nAnimations.js" type="text/javascript"></script>
  <script src="../../js/nObjs.js" type="text/javascript"></script>
  <script src="../../js/nScene.js" type="text/javascript"></script>
  <script src="../../js/nThree.js" type="text/javascript"></script>
  
<script type="text/javascript">
  nInit();
  
  // Events :
  document.body.onkeydown = function(e){
      if(e.keyCode>=48 && e.keyCode<=57){
          nData._.nObserver.sendEvent('keydown-'+(e.keyCode-48));
          e.stopImmediatePropagation();
          e.stopPropagation();
          e.preventDefault();
          return false;
      }
      
      if(e.key=='a' || e.key=='b' || e.key=='c' || e.key=='d' || e.key=='e'){
          nData._.nObserver.sendEvent('keydown-' + e.key);
          e.stopImmediatePropagation();
          e.stopPropagation();
          e.preventDefault();
          return false;
      }
  };
  
  // Create the base of ThreeJs :
  var nThree = nData._.nThree;
  nThree.initRenderer().appendRendererToNode('container');
  
  nThree.createThreeObjs('objs').init()
                                .createCube('cube',200,200,200);
  
  nThree.createThreeScene('scene').init()
                              .createMeshRefs('cubeM','objs','cube')
                              .createCamera('cam', 'default')
                              .attachMeshes()
                              .setControls('controlsOrbit','cam');
  
  nThree.data['hud'] = { default0: null };
  nThree.data.hud.default0 = new mTHREE.huds.default0('hud','container');
  nThree.data.hud.default0.init().initDefaultEventsListener().clock();
  
  nThree.render.setToRenderRefs('renderSceneS', 'scene', 'cam').start().renderRecursiveAnimationFrame();
  
  
  // Actions :
  
  nData._.nObserver.addListener('keydown-1', function(){
	  this.health.decrease.call(this);
  }, nThree.data.hud.default0);
  
  nData._.nObserver.addListener('keydown-2', function(){
	  this.health.increase.call(this);
  }, nThree.data.hud.default0);
  
  nData._.nObserver.addListener('keydown-3', function(){
	  this.score.decrease.call(this);
  }, nThree.data.hud.default0);
  
  nData._.nObserver.addListener('keydown-4', function(){
	  this.score.increase.call(this);
  }, nThree.data.hud.default0);
  
  nData._.nObserver.addListener('keydown-5', function(){
	  this._clock(10);
  }, nThree.data.hud.default0);
  
  
</script>
</body>
</html>
